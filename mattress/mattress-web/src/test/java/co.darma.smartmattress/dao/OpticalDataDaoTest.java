package co.darma.smartmattress.dao;

import co.darma.smartmattress.BaseTestCase;
import co.darma.smartmattress.analysis.dao.OpticalDataDao;
import co.darma.smartmattress.analysis.entity.OpticalData;
import co.darma.smartmattress.ccb.dao.AccessTokenDao;
import co.darma.smartmattress.entity.Device;
import junit.framework.TestCase;

/**
 * Created by frank on 16/1/27.
 */
public class OpticalDataDaoTest extends BaseTestCase {


    public void testSaveOpticalData() {

        OpticalDataDao dao = getContext().getBean(OpticalDataDao.class);


        String data = "29803,29795,29785,29779,29784,29799,29820,29836,29848,29849,29848,29841,29829,29825,29829,29837,29842,29845,29845,29844,29848,29851,29857,29860,29867,29871,29875,29876,29875,29876,29875,29880,29885,29890,29894,29898,29900,29900,29900,29898,29894,29893,29893,29899,29910,29917,29922,29919,29926,29935,29936,29932,29924,29912,29899,29892,29897,29911,29929,29946,29959,29960,29960,29954,29943,29936,29941,29945,29950,29946,29937,29935,29938,29942,29950,29959,29969,29980,29987,29993,29993,29995,29999,30003,30007,30010,30014,30018,30022,30024,30025,30025,30022,30019,30018,30023,30028,30031,30029,30028,30032,30035,30032,30029,30018,30002,29986,29978,29979,29986,29996,30005,30012,30011,30006,29997,29985,29976,29978,29980,29981,29977,29969,29966,29963,29964,29968,29970,29971,29973,29975,29973,29972,29970,29967,29967,29968,29969,29972,29977,29976,29976,29972,29968,29966,29962,29962,29968,29977,29979,29978,29975,29976,29977,29972,29968,29957,29945,29932,29923,29925,29936,29948,29962,29968,29969,29968,29961,29949,29944,29948,29953,29953,29949,29942,29938,29940,29944,29949,29950,29954,29958,29959,29955,29955,29952,29952,29951,29951,29955,29960,29963,29963,29963,29960,29958,29955,29953,29951,29954,29962,29967,29968,29962,29963,29968,29968,29962,29954,29941,29925,29912,29908,29917,29928,29946,29958,29958,29960,29957,29946,29937,29934,29936,29936,29932,29920,29911,29907,29906,29898,29888,29879,29873,29870,29866,29857,29848,29839,29832,29830,29828,29830,29832,29833,29829,29825,29819,29813,29809,29804,29802,29804,29813,29819,29821,29818,29823,29831,29835,29832,29827,29816,29807,29802,29806,29823,29842,29862,29874,29875,29877,29871,29862,29857,29857,29863,29866,29865,29863,29862,29863,29867,29872,29879,29885,29890,29892,29889,29885,29885,29885,29888,29889,29892,29897,29899,29901,29903,29901,29900,29897,29894,29898,29905,29911,29916,29916,29923,29929,29934,29929,29924,29914,29906,29905,29918,29942,29973,29996,30012,30019,30023,30022,30016,30018,30025,30036,30045,30045,30041,30038,30038,30041,30042,30045,30048,30047,30045,30039,30033,30030,30025,30024,30023,30022,30021,30021,30019,30015,30012,30007,30003,29997,29996,30001,30004,30006,30003,29999,30003,30003,30001,29995,29984,29969,29954,29944,29948,29957,29967,29980,29985,29983,29977,29970,29958,29951,29954,29961,29961,29958,29950,29945,29944,29945,29948,29950,29952,29954,29955,29958,29955,29953,29952,29951,29952,29955,29957,29960,29961,29959,29958,29953,29952,29948,29949,29954,29962,29967,29964,29961,29962,29966,29962,29958,29949,29937,29923,29912,29912,29924,29936,29951,29959,29958,29958,29953,29942,29936,29937,29944,29945,29942,29934,29927,29928,29934,29935,29938,29942,29945,29948,29948,29946,29943,29942,29941,29941,29944,29948,29951,29954,29952,29949,29948,29944,29942,29938,29943,29949,29954,29957,29952,29952,29958,29957,29951,29943,29931,29915,29901,29898,29903,29916,29931,29943,29948,29949,29948,29940,29928,29927,29928,29929,29923,29909,29894,29884,29876,29868,29858,29849,29844,29838,29832,29827,29820,29815,29810,29805,29802,29803,29805,29805,29804,29797,29793,29789,29786,29785,29783,29784,29792,29798,29801,29796,29790,29793,29798,29799,29795,29789,29781,29771,29769,29775,29792,29810,29828,29833,29837,29836,29829,29821,29818,29823,29830,29836,29833,29830,29829,29831,29836,29839,29846,29851,29854,29857,29857,29856,29855,29857,29862,29865,29870,29873,29875,29877,29876,29875,29874,29872,29872,29872,29877,29888,29893,29897,29896,29900,29907,29909,29905,29897,29882,29870,29863,29868,29882,29901,29918,29925,29925,29922,29911,29901,29892,29892,29896,29897,29892,29885,29885,29888,29893,29898,29906,29915,29923,29927,29928,29928,29932,29938,29948,29959,29971,29980,29988,29995,29999,29999,30003,30001,29998,29996,29998,30006,30012,30014,30010,30009,30012,30012,30007,29999,29984,29970,29957,29953,29959,29969,29980,29988,29990,29988,29981,29971,29961,29958,29960,29966,29962,29958,29952,29948,29949,29951,29953,29955,29957,29958,29960,29958,29957,29953,29953,29952,29952,29958,29959,29961,29960,29960,29957,29953,29951,29949,29946,29951,29958,29963,29960,29954,29955,29958,29957,29952,29946,29935,29923,29910,29907,29912,29926,29934,29936,29924,29906,29888,29870,29853,29849,29853,29858,29860,29858,29856,29859,29867,29875,29883,29891,29899,29906,29909,29911,29911,29912,29912,29911,29914,29916,29919,29919,29916,29910,29905,29897,29885,29877,29868,29866,29867,29871,29870,29859,29854,29850,29844,29832,29822,29805,29788,29773,29767,29771,29784,29799,29813,29815,29815,29814,29803,29794,29794,29798,29804,29804,29802,29798,29798,29802,29806,29809,29813,29815,29816,29818,29816,29816,29816,29820,29820,29824,29831,29836,29839,29842,29844,29842,29841,29839,29838,29838,29842,29853,29858,29860,29859,29863,29873,29879,29876,29870,29857,29846,29837,29842,29856,29877,29894,29905,29906,29906,29897,29884,29879,29881,29883,29885,29881,29875,29872,29873,29876,29882,29889,29897,29903,29905,29902,29897,29897,29900,29905,29912,29920,29925,29931,29934,29934,29936,29936,29936,29938,29941,29950,29961,29970,29978,29981,29990,29998,30001,29998,29994,29981,29970,29960,29961,29972,29985,29996,30004,30003,29996,29987,29973,29964,29969,29975,29979,29978,29973,29969,29967,29968,29972,29977,29980,29984,29985,29985,29985,29981,29979,29979,29979,29980,29983,29983,29984,29980,29975,29973,29970,29969,29967,29966,29970,29978,29980,29977,29972,29972,29977,29973,29969,29960,29950,29933,29923,29923,29929,29942,29954,29961,29960,29957,29951,29941,29933,29935,29940,29941,29940,29932,29926,29924,29927,29932,29933,29937,29938,29943,29941,29940,29937,29935,29934,29935,29937,29942,29945,29944,29945,29943,29938,29937,29935,29933,29934,29940,29946,29950,29948,29943,29945,29948,29944,29938,29929,29918,29902,29892,29893,29903,29916,29931,29937,29938,29937,29932,29920,29912,29910,29911,29902,29885,29865,29848,29836,29829,29823,29818,29813,29812,29810,29809,29802,29794,29786,29778,29772,29771,29773,29776,29777,29775,29769,29767,29764,29764,29762,29763,29769,29778,29785,29784,29780,29783,29790,29794,29792,29788,29780,29772,29766,29772,29786,29805,29822,29832,29835,29836,29828,29820,29815,29820,29825,29829,29828,29825,29821,29825,29830,29837,29842,29849,29853,29855,29855,29853,29853,29856,29860,29865,29871,29877,29880,29883,29883,29882,29882,29879,29876,29880,29890,29899,29901,29902,29907,29916,29918,29916,29906,29892,29879,29868,29871,29883,29901,29916,29926,29926,29924,29916,29902,29897,29899,29910,29920,29926,29931,29936,29949,29963,29978,29988,29998,30004,30007,30004,29999,29996,29994,29995,29996,30001,30003,30005,30007,30005,30001,29997,29992,29987,29986,29992,29998,30001,29997,29997,30001,30001,29998,29994,29981,29968,29953,29949,29952,29960,29973,29983,29985,29983,29979,29967,29954,29951,29953,29958,29957,29952,29943,29937,29937,29940,29943,29945,29946,29949,29949,29949,29946,29943,29940,29941,29941,29944,29946,29950,29950,29950,29945,29943,29941,29936,29936,29942,29950,29954,29950,29948,29949,29951,29949,29944,29937,29925,29911,29903,29901,29911,29923,29936,29943,29942,29941,29935,29925,29922,29923,29928,29929,29924,29916,29912,29912,29916,29920,29923,29926,29931,29932,29933,29929,29927,29924,29925,29925,29926,29931,29935,29936,29935,29932,29929,29927,29928,29926,29925,29928,29934,29941,29942,29936,29936,29941,29941,29935,29927,29916,29901,29890,29884,29890,29905,29917,29926,29923,29915,29900,29876,29854,29838,29830,29822,29811,29795,29781,29776,29770,29766,29763,29761,29761,29758,29754,29751,29746,29742,29741,29741,29746,29752,29755,29758,29759,29762,29762,29763,29767,29771,29775,29778,29786,29794,29804,29807,29805,29806,29814,29816,29815,29810,29802,29795,29789,29793,29805,29822,29841,29855,29855,29854,29848,29836,29827,29828,29833,29839,29839,29837,29835,29836,29840,29842,29849,29856,29862,29865,29865,29863,29863,29864,29870,29874,29880,29885,29890,29891,29892,29892,29891,29890,29891,29893,29894,29899,29907,29914,29917,29915,29915,29920,29922,29916,29909,29894,29876,29860,29856,29865,29882,29899,29910,29912,29908,29902,29888,29871,29863,29864,29867,29872,29871,29868,29870,29874,29880,29885,29894,29902,29908,29911,29915,29916,29918,29923,29925,29931,29934,29938,29943,29943,29943,29941,29940,29937,29937,29936,29937,29943,29951,29958,29962,29958,29953,29954,29954,29952,29950,29941,29931,29920,29917,29920,29929,29942,29951,29953,29952,29948,29942,29932,29926,29933,29938,29942,29938,29932,29927,29928,29929,29932,29933,29934,29940,29942,29943,29944,29944,29942,29941,29942,29946,29949,29951,29953,29952,29949,29948,29945,29946,29946,29948,29949,29952,29959,29963,29961,29955,29952,29958,29955,29953,29945,29935,29922,29909,29907,29914,29925,29940,29949,29949,29948,29945,29936,29928,29929,29933,29937,29924,29905,29892,29893,29899,29907,29915,29923,29929,29936,29940,29944,29944,29944,29943,29940,29936,29932,29924,29917,29907,29893,29879,29860,29848,29835,29824,29815,29806,29801,29787,29768,29757,29750,29749,29752,29755,29760,29762,29759,29742,29738,29744,29759,29775,29790,29798,29799,29798,29798,29783,29777,29769,29761,29759,29758,29759,29762,29771,29789,29804,29809,29810,29820,29828,29831,29830,29830,29830,29831,29832,29836,29841,29847,29853,29854,29850,29847,29846,29847,29849,29854,29860,29870,29880,29884,29881,29881,29886,29892,29893,29890,29881,29870,29860,29858,29864,29884,29902,29919,29924,29923,29918,29907,29893,29892,29896,29900,29901,29896,29889,29884,29885,29886,29888,29890,29891,29890,29886,29880,29872,29870,29870,29872,29876,29879,29882,29882,29881,29880,29880,29880,29880,29877,29880,29888,29898,29906,29909,29914,29920,29926,29926,29922,29912,29899,29886,29881,29888,29899,29917,29934,29945,29950,29952,29948,29938,29935,29938,29944,29949,29946,29944,29941,29941,29944,29950,29953,29957,29959,29960,29960,29959,29959,29958,29959,29961,29963,29968,29972,29972,29971,29969,29968,29964,29962,29961,29963,29971,29978,29980,29977,29976,29978,29979,29976,29970,29957,29942,29928,29923,29926,29940,29952,29964,29970,29969,29967,29958,29949,29946,29951,29958,29957,29950,29943,29940,29942,29944,29949,29953,29958,29962,29963,29962,29959,29957,29955,29954,29955,29959,29962,29966,29966,29964,29963,29961,29959,29959,29957,29959,29966,29971,29972,29967,29964,29968,29970,29966,29959,29948,29932,29918,29909,29916,29927,29942,29954,29959,29959,29958,29950,29940,29936,29941,29944,29941,29932,29920,29910,29902,29894,29886,29876,29868,29857,29846,29835,29821,29810,29801,29795,29793,29794,29796,29797,29795,29792,29785,29781,29777,29776,29772,29775,29780,29790,29797,29796,29795,29799,29805,29807,29805,29801,29792,29781,29778,29785,29801,29820,29837,29845,29847,29846,29838,29829,29824,29829,29836,29839,29838,29833,29832,29835,29839,29845,29850,29857,29862,29864,29864,29864,29864,29866,29871,29874,29879,29884,29889,29891,29892,29893,29893,29893,29893,29893,29901,29910,29916,29918,29919,29926,29935,29934,29929,29918,29901,29886,29883,29890,29907,29928,29944,29951,29951,29948,29935,29920,29909,29907,29903,29897,29888,29876,29870,29870,29874,29877,29882,29890,29894,29898,29897,29893,29896,29898,29902,29910,29916,29920,29924,29926,29925,29923,29920,29919,29917,29920,29929,29938,29949,29951,29953,29959,29966,29969,29969,29963,29953,29942,29935,29938,29949,29964,29979,29987,29990,29988,29980,29971,29964,29966,29971,29976,29975,29970,29966,29963,29966,29968,29971,29976,29977,29979,29979,29978,29977,29975,29976,29979,29978,29983,29985,29986,29986,29984,29983,29984,29983,29980,29979,29983,29993,29998,29998,29993,29990,29993,29990,29987,29981,29971,29955,29943,29942,29951,29962,29977,29986,29989,29987,29985,29975,29966,29964,29971,29976,29973,29966,29960,29959,29961,29964,29967,29971,29975,29977,29978,29977,29972,29970,29970,29971,29973,29977,29981,29984,29983,29979,29977,29976,29973,29973,29973,29973,29981,29988,29989,29984,29980,29981,29984,29979,29972,29962,29946,29933,29927,29931,29943,29960,29975,29977,29977,29976,29968,29959,29950,29950,29951,29944,29934,29916,29903,29894,29885,29881,29873,29868,29862,29856,29849,29841,29833,29830,29827,29823,29821,29820,29818,29815,29812,29809,29806,29805,29803,29799,29799,29806,29813,29818,29819,29827,29836,29841,29839,29833,29825,29813,29805,29809,29822,29841,29862,29875,29879,29880,29875,29866,29857,29857,29860,29865,29867,29860,29860,29859,29865,29868,29871,29876,29882,29883,29882,29877,29877,29877,29880,29884,29890,29893,29897,29900,29903,29903,29900,29896,29893,29896,29903,29910,29914,29915,29922,29931,29936,29931,29925,29909,29892,29883,29885,29900,29920,29938,29948,29951,29951,29945,29938,29945,29950,29951,29950,29946,29942,29940,29942,29946,29946,29948,29943,29943,29937,29926,29914,29903,29894,29888,29883,29880,29876,29874,29871,29866,29860,29854,29849,29853,29862,29867,29873,29875,29884,29896,29903,29906,29906,29898,29890,29885,29891,29905,29919,29933,29940,29941,29941,29936,29928,29923,29925,29925,29923,29917,29909,29902,29902,29905,29909,29915,29920,29922,29920,29918,29914,29910,29910,29909,29911,29912,29918,29919,29922,29923,29922,29919,29916,29919,29927,29932,29934,29933,29938,29949,29952,29953,29950,29938,29927,29918,29920,29932,29949,29964,29976,29981,29985,29981,29972,29968,29969,29973,29976,29972,29966,29961,29963,29969,29975,29979,29984,29987,29988,29985,29983,29979,29976,29976,29978,29981,29985,29988,29990,29992,29989,29987,29984,29979,29983,29989,29995,29996,29994,29996,30001,30003,29999,29994,29981,29966,29951,29946,29953,29966,29979,29989,29994,29993,29988,29978,29970,29971,29977,29980,29976,29968,29962,29964,29969,29975,29979,29984,29987,29986,29986,29983,29977,29973,29971,29971,29973,29976,29981,29981,29981,29980,29976,29973,29969,29968,29966,29968,29972,29981,29983,29980,29979,29980,29984,29979,29975,29964,29951,29937,29929,29934,29948,29962,29979,29985,29987,29986,29979,29970,29968,29972,29979,29980,29977,29968,29964,29966,29970,29973,29975,29977,29979,29977,29970,29960,29946,29929,29911,29893,29879,29866,29854,29842,29831,29820,29806,29797,29790,29787,29785,29783,29784,29787,29789,29790,29787,29786,29795,29801,29799,29796,29792,29783,29776,29773,29786,29802,29820,29836,29841,29841,29839,29831,29823,29824,29832,29838,29839,29837,29836,29836,29839,29844,29850,29858,29864,29870,29871,29873,29873,29875,29875,29877,29882,29888,29894,29898,29900,29900,29899,29900,29901,29903,29905,29905,29910,29917,29924,29928,29927,29928,29934,29936,29935,29929,29919,29905,29896,29898,29911,29931,29950,29959,29962,29960,29953,29942,29932,29933,29936,29938,29934,29926,29919,29915,29914,29912,29911,29912,29915,29914,29908,29900,29892,29885,29880,29875,29873,29873,29875,29877,29879,29879,29880,29879,29881,29881,29884,29885,29890,29901,29910,29915,29917,29925,29934,29940,29938,29934,29924,29912,29905,29903,29915,29929,29946,29958,29961,29961,29957,29948,29938,29936,29941,29948,29946,29942,29936,29932,29932,29934,29937,29942,29944,29946,29949,29948,29948,29946,29946,29948,29949,29952,29955,29957,29957,29955,29953,29952,29952,29951,29952,29953,29955,29957,29962,29971,29975,29973,29968,29967,29969,29969,29967,29960,29950,29936,29926,29923,29929,29941,29954,29963,29967,29966,29964,29958,29950,29950,29959,29963,29963,29957,29949,29945,29946,29949,29951,29952,29955,29959,29962,29962,29962,29959,29959,29957,29957,29959,29963,29964,29964,29964,29962,29959,29958,29954,29953,29952,29948,29942,29935,29927,29916,29901,29882,29867,29858,29848,29836,29820,29804,29785,29768,29757,29755,29763,29772,29781,29785,29787,29788,29783,29772,29769,29772,29777,29780,29780,29776,29773,29773,29775,29778,29783,29788,29801,29807,29815,29819,29821,29824,29827,29830,29832,29836,29841,29844,29846,29847,29847,29848,29851,29856,29862,29865,29865,29870,29876,29879,29880,29877,29882,29891,29896,29894,29890,29877,29866,29862,29867,29883,29903,29919,29927,29927,29924,29916,29905,29897,29899,29906,29910,29908,29903,29899,29900,29903,29907,29912,29915,29919,29922,29916,29912,29907,29905,29901,29901,29901,29901,29902,29899,29897,29892,29885,29882,29880,29879,29877,29875,29882,29890,29900,29906,29907,29909,29916,29919,29919,29916,29909,29901,29898,29906,29920,29938,29958,29970,29977,29977,29972,29964,29958,29959,29966,29970,29971,29967,29959,29957,29955,29957,29960,29964,29968,29972,29975,29972,29973,29973,29973,29975,29977,29980,29984,29986,29986,29986,29984,29985,29984,29987,29987,29989,29990,29997,30004,30006,30004,29996,29998,30002,30002,29998,29990,29976,29963,29954,29953,29964,29976,29986,29995,29995,29994,29990,29983,29976,29977,29985,29988,29986,29977,29971,29971,29973,29976,29979,29984,29986,29992,29993,29992,29990,29989,29986,29987,29988,29989,29995,29997,29996,29996,29993,29990,29989,29988,29990,29990,29992,29995,30001,30003,29998,29993,29993,29997,29995,29990,29984,29968,29953,29942,29941,29951,29963,29975,29983,29984,29984,29983,29972,29966,29966,29969,29971,29964,29948,29932,29916,29905,29893,29882,29874,29866,29860,29855,29847,29839,29833,29825,29821,29816,29814,29813,29814,29813,29810,29805,29802,29801,29799,29801,29801,29802,29806,29813,29815,29813,29810,29812,29816,29816,29814,29807,29797,29789,29787,29799,29815,29833,29847,29853,29853,29849,29838,29829,29828,29836,29841,29844,29842,29840,29839,29841,29845,29848,29853,29860,29864,29866,29865,29864,29865,29867,29871,29872,29876,29880,29884,29886,29886,29886,29885,29885,29885,29885,29889,29898,29907,29910,29910,29912,29919,29925,29923,29917,29905,29890,29880,29879,29890,29909,29928,29943,29949,29948,29943,29934,29923,29923,29928,29934,29935,29931,29927,29927,29932,29937,29945,29955,29966,29975,29977,29979,29977,29977,29980,29986,29993,29998,30004,30006,30009,30009,30007,30006,30005,30006,30006,30013,30021,30027,30029,30024,30027,30030,30032,30030,30023,30010,29997,29987,29989,29997,30013,30028,30038,30039,30036,30030,30019,30007,30007,30010,30014,30014,30010,30004,30001,30002,30004,30007,30011,30015,30016,30016,30016,30014,30012,30012,30012,30014,30018,30022,30024,30024,30023,30021,30019,30016,30014,30011,30013,30021,30027,30029,30022,30020,30023,30022,30020,30014,30003,29988,29977,29970,29978,29992,30005,30014,30019,30016,30014,30006,29996,29994,30001,30006,30005,29999,29992,29990,29992,29995,29999,30003,30007,30010,30011,30010,30009,30007,30006,30007,30007,";


        OpticalData opticalData = new OpticalData();

        Device d = new Device();
        d.setId(1);
        opticalData.setDevice(d);
        opticalData.setStartTime(System.currentTimeMillis() / 1000);
        opticalData.setEndTime(System.currentTimeMillis() / 1000 + 1);
        opticalData.setUpdateTime(System.currentTimeMillis());
        opticalData.setOpticalData(data);
        dao.saveOpticalData(opticalData);

    }
}
